<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bhargav Photography Studio</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #fff; color: #333; min-height: 100vh; }
  nav {
    position: fixed; top: 0; width: 100%;
    background: #fff; border-bottom: 1px solid #eee;
    display: flex; justify-content: space-between; align-items: center;
    padding: 1rem 2rem; z-index: 1000; font-weight: 600;
  }
  nav .logo { letter-spacing: 2px; font-size: 1.4rem; color: #222; }
  nav ul { list-style:none; display: flex; gap: 1.7rem; }
  nav ul li:hover { color: #007acc; }
  nav a { text-decoration: none; color: inherit; cursor: pointer; }

  .section { display: none; padding-top: 68px; min-height: calc(100vh - 68px); max-width: 1200px; margin: 0 auto; }
  .active { display: block; }

  /* Slider */
  .slider {
    position: relative; height: calc(100vh - 68px); overflow: hidden;
  }
  .slides { display: none; position: absolute; width: 100%; height: 100%; }
  .slides img {
    width: 100%; height: 100%; object-fit: cover;
  }
  .fade { animation-name: fade; animation-duration: 1.5s; }
  @keyframes fade { from {opacity:0.4;} to {opacity:1;} }
  .prev, .next {
    cursor: pointer; position: absolute; top: 50%;
    padding: 1rem; color: white; font-weight: bold; font-size: 2rem;
    border-radius: 0 3px 3px 0; background: rgba(0,0,0,0.3); user-select: none;
    transform: translateY(-50%); transition: background 0.3s; z-index: 10;
  }
  .next { right: 0; border-radius: 3px 0 0 3px; }
  .prev:hover, .next:hover { background: rgba(0,0,0,0.6); }

  /* Portfolio */
  .portfolio-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem; margin: 2rem 1rem 4rem;
  }
  .gallery-item {
    border: 1px solid #ddd; border-radius: 6px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    transition: transform 0.3s, box-shadow 0.3s;
    position: relative;
  }
  .gallery-item:hover {
    box-shadow: 0 6px 16px rgba(0,0,0,0.15);
    transform: scale(1.02);
  }
  .gallery-title {
    background: #f7f7f7; padding: 0.7rem;
    font-weight: 600; font-size: 1.1rem; text-align: center;
  }

  /* Delete button for portfolio */
  .portfolio-delete-btn {
    position: absolute;
    top: 6px;
    right: 6px;
    background: rgba(255, 0, 0, 0.7);
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    padding: 3px 6px;
    display: none;
  }
  .gallery-item:hover .portfolio-delete-btn {
    display: block;
  }

  /* About */
  h1 { padding-top: 80px; margin-bottom: 1rem; text-align: center; color: #222; }
  p { margin: 0 1rem 2rem; max-width: 900px; text-align: center; margin-left: auto; margin-right: auto; }

  /* Login / Dashboard */
  .form-container, .dashboard {
    max-width: 400px; margin: 2rem auto; padding: 2rem;
    border: 1px solid #ddd; border-radius: 8px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1); background: white;
  }
  .form-container h2, .dashboard h2 {
    text-align: center; margin-bottom: 1.7rem;
  }
  label {
    display: block; margin-bottom: 0.5rem; font-weight: 600;
  }
  input[type=text], input[type=password], input[type=file] {
    width: 100%; padding: 0.6rem; margin-bottom: 1.2rem;
    border: 1px solid #ccc; border-radius: 4px; font-size: 1rem;
    box-sizing: border-box;
  }
  button {
    width: 100%; padding: 0.8rem; background-color: #007acc;
    border: none; border-radius: 5px; color: white; font-weight: 700;
    font-size: 1.1rem; cursor: pointer; transition: background-color 0.3s;
  }
  button:hover { background-color: #005fa3; }

  /* Uploaded images display */
  #uploadedImages { margin-top: 1rem; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }
  .image-item {
    position: relative; display: inline-block;
  }
  #uploadedImages img {
    max-width: 120px; border-radius: 4px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }
  .delete-btn {
    position: absolute; top: 2px; right: 2px;
    background: rgba(255, 0, 0, 0.7);
    border: none; color: white; padding: 2px 6px;
    cursor: pointer; border-radius: 2px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    nav ul { gap: 1rem; }
    .gallery-title { font-size: 1rem; }
  }
</style>
</head>
<body>

<nav>
  <div class="logo">Bhargav Photography Studio</div>
  <ul>
    <li><a onclick="showSection('home')">Home</a></li>
    <li><a onclick="showSection('portfolio')">Portfolio</a></li>
    <li><a onclick="showSection('about')">About</a></li>
    <li><a onclick="showSection('login')">Login</a></li>
  </ul>
</nav>

<!-- Sections -->

<section id="home" class="section active">
  <div class="slider"></div>
</section>

<section id="portfolio" class="section">
  <h1>Portfolio</h1>
  <div class="portfolio-grid" id="portfolioGrid">
    <div class="gallery-item" data-id="1">
      <button class="portfolio-delete-btn" onclick="deleteGallery(1)">Delete</button>
      <a href="gallery1.html">
        <img src="https://picsum.photos/id/101/600/400" alt="Nature Gallery" />
        <div class="gallery-title">Nature Gallery</div>
      </a>
    </div>
    <div class="gallery-item" data-id="2">
      <button class="portfolio-delete-btn" onclick="deleteGallery(2)">Delete</button>
      <a href="gallery2.html">
        <img src="https://picsum.photos/id/102/600/400" alt="Urban Gallery" />
        <div class="gallery-title">Urban Gallery</div>
      </a>
    </div>
    <div class="gallery-item" data-id="3">
      <button class="portfolio-delete-btn" onclick="deleteGallery(3)">Delete</button>
      <a href="gallery3.html">
        <img src="https://picsum.photos/id/103/600/400" alt="Portraits" />
        <div class="gallery-title">Portraits</div>
      </a>
    </div>
    <div class="gallery-item" data-id="4">
      <button class="portfolio-delete-btn" onclick="deleteGallery(4)">Delete</button>
      <a href="gallery4.html">
        <img src="https://picsum.photos/id/104/600/400" alt="Black & White" />
        <div class="gallery-title">Black & White</div>
      </a>
    </div>
  </div>
</section>

<section id="about" class="section">
  <h1>About Bhargav Photography Studio</h1>
  <p>
    Welcome to Bhargav Photography Studio. We specialize in capturing timeless moments with a clean and minimalist aesthetic. Each photo tells a story. Explore our portfolio to see the world through our lens.
  </p>
</section>

<section id="login" class="section">
  <div class="form-container" id="loginFormContainer">
    <h2>Login</h2>
    <form id="loginForm" onsubmit="return authenticate(event)">
      <label for="username">Username</label>
      <input type="text" id="username" name="username" required placeholder="Enter username" />
      <label for="password">Password</label>
      <input type="password" id="password" name="password" required placeholder="Enter password" />
      <button type="submit">Log In</button>
    </form>
  </div>
</section>

<section id="dashboard" class="section">
  <div class="dashboard">
    <h2>Dashboard: Upload & Manage Images</h2>
    <input type="file" id="fileInput" accept="image/*" multiple />
    <div id="uploadedImages"></div>
  </div>
</section>

<script>
  const sliderContainer = document.querySelector('.slider');
  const slidesClassName = 'slides fade';

  const uploadedImages = [];
  const uploadedImagesContainer = document.getElementById('uploadedImages');

  // Show/hide sections
  function showSection(id) {
    document.querySelectorAll('.section').forEach(sec => sec.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    window.scrollTo(0, 0);
  }

  // Render slider images dynamically
  function renderSliderImages() {
    sliderContainer.innerHTML = ''; // clear existing slides

    uploadedImages.forEach((src, index) => {
      const slideDiv = document.createElement('div');
      slideDiv.className = slidesClassName;
      if(index === 0) slideDiv.style.display = 'block';

      const img = document.createElement('img');
      img.src = src;
      img.alt = `Slide Image ${index+1}`;

      slideDiv.appendChild(img);
      sliderContainer.appendChild(slideDiv);
    });

    // Add prev/next controls
    const prev = document.createElement('a');
    prev.className = 'prev';
    prev.innerHTML = '&#10094;';
    prev.onclick = () => changeSlide(-1);
    sliderContainer.appendChild(prev);

    const next = document.createElement('a');
    next.className = 'next';
    next.innerHTML = '&#10095;';
    next.onclick = () => changeSlide(1);
    sliderContainer.appendChild(next);
  }

  function syncSliderWithUploads() {
    renderSliderImages();
    slideIndex = 0;
    showSlides();
  }

  // Render dashboard thumbnails with delete buttons
  function renderUploadedImages() {
    uploadedImagesContainer.innerHTML = '';
    uploadedImages.forEach((src, index) => {
      const div = document.createElement('div');
      div.className = 'image-item';

      const img = document.createElement('img');
      img.src = src;
      img.alt = 'Uploaded image';

      const btn = document.createElement('button');
      btn.textContent = 'X';
      btn.className = 'delete-btn';
      btn.onclick = () => {
        uploadedImages.splice(index, 1);
        saveToLocalStorage();
        renderUploadedImages();
        syncSliderWithUploads();
      };

      div.appendChild(img);
      div.appendChild(btn);
      uploadedImagesContainer.appendChild(div);
    });
    saveToLocalStorage();
  }

  // Save images to localStorage
  function saveToLocalStorage() {
    localStorage.setItem('uploadedImages', JSON.stringify(uploadedImages));
  }

  // Load images from localStorage on page load
  window.onload = () => {
    const savedImages = JSON.parse(localStorage.getItem('uploadedImages')) || [];
    uploadedImages.push(...savedImages);
    renderUploadedImages();
    syncSliderWithUploads();
  };

  // File input change handler
  document.getElementById('fileInput').addEventListener('change', function() {
    const files = this.files;
    for(let i=0; i<files.length; i++){
      const file = files[i];
      const reader = new FileReader();
      reader.onload = function(e) {
        uploadedImages.push(e.target.result);
        renderUploadedImages();
        syncSliderWithUploads();
      };
      reader.readAsDataURL(file);
    }
    this.value = null;
  });

  // Slider logic
  let slideIndex = 0;
  let sliderTimer;

  function showSlides() {
    clearTimeout(sliderTimer);
    const slides = document.getElementsByClassName('slides');
    if(slides.length === 0) return;
    for(let i=0; i<slides.length; i++) {
      slides[i].style.display = 'none';
    }
    slideIndex++;
    if(slideIndex > slides.length) slideIndex = 1;
    slides[slideIndex-1].style.display = 'block';
    sliderTimer = setTimeout(showSlides, 5000);
  }

  function changeSlide(n) {
    clearTimeout(sliderTimer);
    const slides = document.getElementsByClassName('slides');
    slideIndex += n - 1;
    if(slideIndex >= slides.length) slideIndex = 0;
    if(slideIndex < 0) slideIndex = slides.length - 1;
    for(let slide of slides) slide.style.display = 'none';
    slides[slideIndex].style.display = 'block';
    sliderTimer = setTimeout(showSlides, 5000);
  }

  // Authenticate user with hardcoded credentials
  function authenticate(event) {
    event.preventDefault();
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value;
    if(username === 'bhargav' && password === '12345') {
      alert('Login successful!');
      showSection('dashboard');
    } else {
      alert('Wrong username or password.');
    }
    return false;
  }

  // Delete portfolio gallery by id
  function deleteGallery(id) {
    const portfolioGrid = document.getElementById('portfolioGrid');
    const gallery = portfolioGrid.querySelector(`.gallery-item[data-id='${id}']`);
    if (gallery && confirm('Are you sure you want to delete this gallery?')) {
      portfolioGrid.removeChild(gallery);
    }
  }
</script>

</body>
</html>
